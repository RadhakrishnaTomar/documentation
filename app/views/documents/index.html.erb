<% content_for :title, "My Documents" %>

<div class="max-w-4xl mx-auto px-6 py-10 text-gray-800">

  <% if notice.present? %>
    <p class="mb-6 bg-green-100 text-green-700 px-4 py-2 rounded-md">
      <%= notice %>
    </p>
  <% end %>

  <div class="flex justify-between items-center mb-10">
    <h1 class="text-2xl font-bold text-indigo-700">📂 My Documents</h1>
    <%= link_to "➕ Upload New Document", new_document_path, class: "text-blue-600 hover:underline font-medium" %>
  </div>

  <% if @documents.any? %>
    <% @documents.each do |doc| %>
      <div class="mb-8 border-b pb-4">
        <p class="text-lg font-semibold text-gray-900 mb-1">📄 <%= doc.title %></p>
        <p class="text-gray-700"><strong class="text-gray-800">Category:</strong> <%= doc.category.presence || "Not categorized" %></p>

        <% if doc.file.attached? %>
          <%= link_to "  Download", rails_blob_path(doc.file, disposition: "attachment"), class: "text-blue-600 hover:underline mt-2 inline-block" %>
        <% else %>
          <p class="text-red-600 mt-2">⚠️ No file attached</p>
        <% end %>
      </div>
    <% end %>
  <% else %>
    <p class="text-gray-500 text-center">No documents uploaded yet.</p>
  <% end %>

</div>
